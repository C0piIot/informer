{% extends 'base.html' %}
{% load i18n %}

{% block body-content %}
{{ block.super }}
<div class="container">
	<p class="mt-4 text-right">
		<a class="btn btn-primary" href="{% url 'pipelines:new' current_environment.slug %}">
			{% translate "New pipeline" %}
		</a>
	</p>
	<div class="table-responsive">
		<table class="table table-hover">
			<tbody>
    			{% for pipeline in object_list %}
    			<tr>
    				<td class="w-100">
    					<a href="{% url 'pipelines:edit' current_environment.slug pipeline.id %}" title="{% translate 'View' %}" class="text-decoration-none">
    						{{ pipeline }}	
    					</a>
    				</td>
    				<td class="text-nowrap">
    					<a href="{% url 'pipelines:edit' current_environment.slug pipeline.id %}" title="{% translate 'Edit' %}" class="btn btn-sm btn-primary">
    						✏️
    					</a>
    					<a href="{% url 'pipelines:history' current_environment.slug pipeline.id %}" title="{% translate 'History' %}" class="btn btn-sm btn-outline-primary">
    						📜
    					</a>
    					<form class="d-inline" method="post" action="{% url 'pipelines:remove' current_environment.slug pipeline.id %}">
    						{% csrf_token %}
    						<button title="{% translate 'Remove' %}" class="btn btn-sm btn-danger">🗑️</button>
    					</form>
    				</td>
    			</tr>
    			{% endfor %}
    		</tbody>
		</table>
	</div>
</div>
{% endblock body-content %}